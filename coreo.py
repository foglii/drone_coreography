import time


import cflib.crtp
from cflib.crazyflie.swarm import CachedCfFactory
from cflib.crazyflie.swarm import Swarm
import sys

from cflib.crazyflie import Crazyflie
from cflib.crazyflie.log import LogConfig
from cflib.crazyflie.mem import MemoryElement
from cflib.crazyflie.mem import Poly4D
from cflib.crazyflie.syncCrazyflie import SyncCrazyflie
from cflib.crazyflie.syncLogger import SyncLogger
from cflib.utils import uri_helper

# Change uris and sequences according to your setup
# URIs in a swarm using the same radio must also be on the same channel
URI1 = 'radio://0/80/2M/E7E7E7E7E6'
URI2 = 'radio://0/80/2M/E7E7E7E7E7'
URI3 = 'radio://0/80/2M/E7E7E7E7E8'
URI4 = 'radio://0/80/2M/E7E7E7E7E9'
URI5 = 'radio://0/80/2M/E7E7E7E7E5'
URI6 = 'radio://0/80/2M/E7E7E7E7E4'
URI7 = 'radio://0/70/2M/E7E7E7E707'
URI8 = 'radio://0/70/2M/E7E7E7E708'
URI9 = 'radio://0/70/2M/E7E7E7E709'
URI10 = 'radio://0/70/2M/E7E7E7E70A'

# drone1 = [list(map(float, row)) for row in __import__("csv").reader(open("drone1.csv", encoding="utf-8-sig"))]
# drone2 = [list(map(float, row)) for row in __import__("csv").reader(open("drone2.csv", encoding="utf-8-sig"))]
# drone3 = [list(map(float, row)) for row in __import__("csv").reader(open("drone3.csv", encoding="utf-8-sig"))]
# drone4 = [list(map(float, row)) for row in __import__("csv").reader(open("drone4.csv", encoding="utf-8-sig"))]
# drone5 = [list(map(float, row)) for row in __import__("csv").reader(open("drone5.csv", encoding="utf-8-sig"))]
# drone6 = [list(map(float, row)) for row in __import__("csv").reader(open("drone6.csv", encoding="utf-8-sig"))]
drone1=[[3.216667,0.262134,0.000000,-0.000000,-1.052549,0.744407,-0.149319,0.001504,0.001468,0.147210,0.000000,-0.000000,2.182628,-2.927918,1.407011,-0.294317,0.022918,0.415880,0.000000,0.000000,0.212806,-0.232488,0.104668,-0.021771,0.001727,-0.000000,0.000000,0.000000,0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.400853,0.991127,-0.609739,-0.423054,-0.038251,0.215825,-0.066458,0.005782,-0.494832,0.703577,0.684229,0.056044,-0.520461,0.157825,-0.002435,-0.002177,0.690580,0.089756,-0.015929,0.030605,-0.019218,0.004929,-0.000398,-0.000013,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.415510,1.894462,-0.140646,-1.154583,0.170239,0.190396,-0.064058,0.005662,-1.110605,0.126532,1.787948,-0.088920,-0.697237,0.253872,-0.025946,0.000105,0.986949,0.096546,-0.003970,-0.019048,0.031685,-0.018207,0.004519,-0.000412,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.364591,1.277812,0.732365,-0.688316,-0.311902,0.280427,-0.060977,0.004274,-0.749148,-0.854473,1.232669,0.330397,-0.312358,-0.040213,0.039949,-0.004890,1.284163,0.098121,0.000237,-0.029330,0.039237,-0.020689,0.004892,-0.000432,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.724308,0.356437,1.044460,-0.261657,-0.381888,0.188805,-0.029341,0.001441,-0.206187,-1.149950,0.437539,0.420849,0.055417,-0.195131,0.058757,-0.005124,1.582095,0.097193,-0.000167,-0.027147,0.039359,-0.022479,0.005785,-0.000559,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.712104,-0.272835,0.952897,0.228589,-1.078878,0.708616,-0.186396,0.017603,0.192963,-0.673405,0.294821,0.855157,-1.098681,0.523473,-0.112883,0.009225,1.879622,0.081427,-0.050772,-0.089451,0.132141,-0.066414,0.014799,-0.001238,0.000000,-0.000000,-0.000000,-0.000000,-0.000000,-0.000000,0.000000,-0.000000],
[2.016667,0.749748,-0.000000,-0.000000,0.004044,-0.006215,0.003099,-0.000463,-0.000017,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.900572,0.000000,-0.000000,-0.005540,0.002321,0.005782,-0.004668,0.000941,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.016667,0.749969,0.000841,-0.000119,-0.006093,0.009885,-0.005182,0.000538,0.000163,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.900032,-0.004428,-0.001680,0.027342,-0.021122,-0.008756,0.012383,-0.002944,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.016667,0.750149,0.006154,0.026823,0.045464,-0.040168,-0.044818,0.038979,-0.007417,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.900745,-0.002499,-0.059534,-0.172011,-0.053167,0.036728,0.016006,-0.006100,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.016667,0.701038,-0.046732,0.121012,-0.001310,-0.035896,-0.017769,0.021480,-0.004408,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.837746,-0.716894,0.313253,-0.012739,0.037894,-0.046006,0.012737,-0.000806,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.016667,0.748716,0.001549,0.021402,-0.041809,0.016855,0.009997,-0.008462,0.001560,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.401082,-0.001065,-0.017287,0.044319,-0.042633,0.019264,-0.003980,0.000282,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.016667,0.750605,-0.001554,-0.007094,0.015711,-0.005362,-0.005690,0.004270,-0.000785,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.399998,0.000466,0.000289,-0.005971,0.010987,-0.008312,0.002880,-0.000378,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],

[2.266667,0.751429,-0.000000,-0.000000,-3.133669,3.515726,-1.622458,0.376632,-0.037077,0.137130,0.000000,-0.000000,7.031642,-12.544241,8.378333,-2.510718,0.285147,0.399103,-0.000000,-0.000000,0.048177,-0.113511,0.097293,-0.035911,0.004829,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.332939,1.343442,0.665004,-1.148611,0.282744,-0.144541,0.100167,-0.018587,-0.653585,-0.792007,0.988193,2.422754,-3.427885,1.894000,-0.530809,0.061170,0.399372,-0.011313,0.007621,0.115231,-0.240697,0.186221,-0.063372,0.007975,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.561393,-0.938276,1.044225,0.146233,0.883605,-1.251501,0.505029,-0.066773,0.496287,-1.158261,-0.954084,1.535103,-1.697355,1.740614,-0.803832,0.126302,0.400236,-0.014297,-0.014181,0.108131,-0.018061,-0.145041,0.107692,-0.020816,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.789517,-0.054748,-0.399963,-0.204570,-0.954472,1.253264,-0.480042,0.060610,-0.003017,0.175039,0.284428,5.040682,-9.129807,5.951999,-1.737109,0.192977,0.605538,0.503029,-0.240911,-1.656389,2.905960,-1.959576,0.600366,-0.069638,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.452448,1.134326,0.818368,-0.279711,-1.056308,0.717979,-0.169980,0.014494,-0.581752,-0.976741,0.929935,1.758919,-2.017914,0.891561,-0.214564,0.023272,0.694415,0.033511,0.088323,-0.492494,0.704001,-0.449945,0.135070,-0.015519,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.456050,-1.173694,0.874146,0.831166,-0.415606,-0.080262,0.049014,-0.004030,0.598658,-0.912223,-1.202562,0.796004,0.137467,-0.026467,-0.049760,0.010959,0.698453,0.008648,0.024577,-0.104767,0.114032,-0.050497,0.008576,-0.000253,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.689743,-0.583039,-1.288969,0.632213,-0.311570,0.590085,-0.307335,0.047409,0.287847,1.355638,-0.567288,-0.782488,0.004732,0.338038,-0.117046,0.011216,0.698258,-0.009101,0.024431,0.098377,-0.281769,0.252016,-0.094978,0.012971,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.082998,1.361419,0.003386,0.342833,-2.362469,1.802189,-0.512381,0.051886,-0.741939,0.187785,1.372233,-0.271377,0.354500,-0.760712,0.351729,-0.048803,0.696226,-0.028221,0.047498,0.353872,-0.609691,0.385509,-0.109160,0.011663,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.892412,-0.214251,1.699609,0.112158,-0.484679,-0.075700,0.101905,-0.015665,0.115234,-1.723781,-0.187173,0.692954,0.879281,-0.878413,0.257329,-0.026139,0.750414,0.005531,-0.013836,-0.017025,0.061841,-0.054320,0.019635,-0.002566,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.341879,-1.637526,-0.628118,1.090563,0.031239,-0.056535,-0.058489,0.016571,0.832539,0.696681,-1.619671,-0.679871,1.068096,-0.355715,0.065960,-0.008362,0.749960,0.004471,0.000998,-0.044784,0.077367,-0.052714,0.015971,-0.001784,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.706851,1.051550,-1.171252,0.155699,0.817902,-0.598209,0.147311,-0.011488,-0.541493,1.421914,0.867881,-1.634365,-0.824412,1.626481,-0.671241,0.089054,0.749463,0.005071,0.024561,0.019844,-0.428342,0.473436,-0.171104,0.020041,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,1.130520,-0.733945,-0.670638,0.533924,0.182848,-0.120391,0.000417,0.003767,0.003636,0.000915,-0.130093,0.390806,-0.472279,0.279268,-0.080404,0.009023,1.094021,0.555638,-0.477204,-0.875890,0.923918,-0.367871,0.080803,-0.008370,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,1.077012,0.808995,-0.525567,-0.416458,-0.109770,0.372746,-0.147136,0.017936,0.000412,-0.005353,-0.008055,0.065829,-0.099212,0.063837,-0.018946,0.002133,0.464528,0.438717,0.683724,-0.312828,-0.310126,0.210526,-0.047460,0.004443,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.324435,0.296939,0.945170,0.040315,-0.929838,0.606213,-0.174917,0.020925,0.000466,0.000321,-0.005839,0.004284,0.005981,-0.008295,0.003388,-0.000463,0.667806,-0.764330,0.303578,0.742120,-0.828306,0.567449,-0.223690,0.033503,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.759760,-1.030440,0.185878,1.347383,-2.056248,1.743187,-0.707224,0.104307,-0.000155,0.000560,0.001583,-0.006184,0.007122,-0.003822,0.000991,-0.000100,1.186761,-0.138500,-0.575898,1.238703,-3.066564,2.983948,-1.174404,0.162510,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000]]
drone2=[[3.216667,0.123457,-0.000000,-0.000000,1.088874,-1.856412,1.022731,-0.233664,0.019322,-0.347769,-0.000000,0.000000,2.576958,-2.967165,1.298995,-0.258039,0.019673,0.395358,0.000000,-0.000000,0.089642,-0.067071,0.019973,-0.002474,0.000086,-0.000000,0.000000,0.000000,0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.170340,1.135833,0.144835,-0.114480,-0.606728,0.377032,-0.076767,0.005205,-0.642092,-0.306717,0.891294,0.757118,-0.966596,0.342807,-0.056659,0.004109,0.642394,0.099878,-0.002190,-0.031237,0.043181,-0.022744,0.005335,-0.000466,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.437379,1.300277,1.218166,-0.508507,-0.761851,0.475017,-0.095247,0.006542,-0.760091,-1.463702,1.009892,1.470371,-1.129173,0.242606,-0.012753,-0.000710,0.939841,0.097250,0.002057,-0.025189,0.029989,-0.014615,0.003238,-0.000270,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.751936,0.127690,1.468877,-0.048422,-0.673803,0.278981,-0.040211,0.001887,-0.080858,-1.646393,0.226060,0.892824,-0.133070,-0.152550,0.050627,-0.004371,1.237468,0.093578,0.002853,-0.008324,0.008197,-0.003933,0.000924,-0.000085,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.638407,-0.748754,1.092423,0.450740,-0.698613,0.258231,-0.045653,0.003584,0.403938,-1.138493,-0.500820,0.718156,-0.071248,-0.026564,-0.003964,0.001739,1.536539,0.093382,-0.005020,-0.011496,0.028425,-0.019382,0.005383,-0.000533,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.407602,-1.045354,0.622658,1.221439,-1.660148,0.847973,-0.198524,0.017594,0.492660,-0.476941,-0.622239,0.931658,-0.354972,0.013691,0.016607,-0.002428,1.835689,0.105326,-0.010039,-0.064056,0.043014,-0.010754,0.000957,-0.000000,0.000000,-0.000000,-0.000000,-0.000000,-0.000000,-0.000000,0.000000,-0.000000],
[2.420000,0.449337,0.000000,0.000000,0.007883,-0.012426,0.007126,-0.001729,0.000146,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.894623,-0.000000,0.000000,-2.125053,3.491670,-2.226703,0.640403,-0.069442,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,0.450299,0.001107,-0.003559,-0.009274,0.026262,-0.020853,0.006645,-0.000746,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.593508,0.039761,0.110491,-0.566808,0.714823,-0.367215,0.076293,-0.004905,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,0.442582,-0.006422,0.014243,0.011285,-0.023239,0.011639,-0.002273,0.000138,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.281549,-0.735766,-0.229764,0.584395,-0.059702,-0.188981,0.088068,-0.011716,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,0.449922,0.001472,0.000457,-0.010523,0.015724,-0.009561,0.002642,-0.000275,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.699168,0.012191,0.018538,-0.162128,0.253987,-0.168492,0.051207,-0.005867,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,0.449838,-0.000127,0.001650,0.000650,-0.005112,0.004632,-0.001614,0.000199,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.699622,0.010433,0.005472,-0.098669,0.157672,-0.102948,0.030587,-0.003428,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],

[2.266667,0.454361,-0.000000,0.000000,-2.006641,2.380875,-1.188551,0.300242,-0.031680,0.080982,0.000000,-0.000000,4.270741,-7.641301,5.120784,-1.539776,0.175442,0.699731,-0.000000,0.000000,0.004357,-0.006266,0.002825,-0.000334,-0.000028,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.200711,0.818871,0.410592,-0.823867,0.381597,-0.224706,0.100652,-0.015575,-0.392377,-0.482383,0.596812,1.539514,-2.240513,1.281989,-0.368749,0.043058,0.700202,0.001688,-0.001893,-0.010911,0.020758,-0.013678,0.003882,-0.000402,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.338872,-0.552928,0.686249,0.144286,-0.174723,0.223327,-0.178332,0.038199,0.297894,-0.717521,-0.611642,0.985418,-0.533090,0.159004,0.013669,-0.012363,0.699707,-0.001331,0.003017,0.007425,-0.017984,0.012963,-0.003902,0.000423,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.078823,-1.637935,-0.325206,3.789946,-4.086474,2.316769,-0.693536,0.082585,0.499949,1.021897,-1.948869,-3.916993,7.449421,-4.723981,1.373209,-0.154601,0.700482,0.001021,-0.004344,-0.007303,0.024251,-0.020701,0.007283,-0.000927,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.752002,0.145895,-1.563735,0.535284,-0.429146,0.574506,-0.234808,0.030032,-0.110239,1.543225,0.388507,-2.079797,1.509767,-0.740801,0.236895,-0.030962,0.699829,0.001023,0.002089,-0.010906,0.013509,-0.007221,0.001737,-0.000150,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.284349,1.357831,0.514113,-0.782356,-0.281220,0.259922,-0.031273,-0.002617,-0.697996,-0.546573,1.411370,0.118293,-0.191766,-0.182487,0.099096,-0.012029,0.699853,-0.000275,0.002639,0.006500,-0.026805,0.027657,-0.011425,0.001668,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.593451,-0.876019,1.123695,0.320378,0.255974,-0.672099,0.284166,-0.037107,0.452900,-1.188235,-0.824939,0.970847,-0.341836,0.392878,-0.223736,0.037331,0.699116,-0.004187,0.013832,0.064709,-0.196336,0.184226,-0.072083,0.010140,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.600609,-0.838555,-1.184974,0.013856,0.951437,-0.293461,-0.032712,0.014487,0.443468,1.085592,-0.690526,0.435347,-2.209099,1.924431,-0.612772,0.068370,0.695574,-0.026042,0.055430,0.329126,-0.588771,0.379738,-0.109446,0.011906,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.346307,1.600742,-0.686597,-0.672198,-0.486373,0.771715,-0.264082,0.029177,-0.830230,0.677362,1.560256,-0.277426,-0.769186,0.286224,-0.005569,-0.005450,0.750107,0.003085,-0.009283,0.009285,-0.005643,0.003421,-0.001460,0.000242,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.891838,0.219246,1.716884,0.015077,-0.900793,0.317029,-0.024841,-0.001006,-0.118474,-1.752179,0.242318,1.122140,-0.097894,-0.224661,0.048017,0.000580,0.749672,-0.001584,0.004306,0.017413,-0.049067,0.043184,-0.016008,0.002150,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.114215,-1.756313,-0.128610,1.421092,0.234523,-0.951621,0.397082,-0.050743,0.887038,0.218641,-1.567358,0.411294,0.692303,-0.487662,0.114082,-0.008740,0.749594,-0.005169,0.002648,0.049437,0.417529,-0.527388,0.201230,-0.024655,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.471792,-0.731802,-0.591255,0.259401,0.546936,-0.352360,0.071506,-0.004645,0.001193,-0.004028,-0.031416,0.129432,-0.178293,0.114308,-0.034844,0.004082,0.505437,-0.553600,0.490905,0.829644,-0.875381,0.346079,-0.076765,0.008171,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.522855,0.818695,-0.524989,-0.521894,0.086494,0.229177,-0.100063,0.012170,0.000172,-0.003826,-0.003404,0.041278,-0.064981,0.042511,-0.012712,0.001436,1.134995,-0.442460,-0.677999,0.343164,0.240442,-0.156009,0.028995,-0.002138,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-1.276164,0.302962,0.953274,-0.025023,-0.833431,0.545107,-0.156974,0.018920,0.000357,0.000298,-0.004449,0.001960,0.007554,-0.008883,0.003530,-0.000481,0.932477,0.762085,-0.306778,-0.714416,0.783025,-0.535489,0.213262,-0.032215,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.840629,-1.030710,0.190946,1.343614,-2.061495,1.750533,-0.710251,0.104725,-0.000097,0.000761,0.000989,-0.007896,0.011815,-0.007676,0.002326,-0.000269,0.413169,0.136510,0.576231,-1.218540,3.028841,-2.956625,1.165547,-0.161436,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000
]]
drone3=[[3.216667,-0.362519,-0.000000,0.000000,2.773565,-3.589698,1.718571,-0.364186,0.028995,-0.516862,-0.000000,-0.000000,0.701526,-0.284796,-0.063146,0.041406,-0.004715,0.401413,0.000000,-0.000000,-0.069904,0.127247,-0.071597,0.016951,-0.001466,-0.000000,0.000000,0.000000,0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.638466,0.470424,0.738765,0.628779,-1.263972,0.572489,-0.107951,0.007734,-0.339118,-0.949723,0.465205,0.396841,0.043193,-0.175792,0.051173,-0.004305,0.594195,0.100231,0.013458,-0.051352,0.049890,-0.021709,0.004453,-0.000351,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.747862,-0.166128,1.448144,0.721475,-1.166070,0.377556,-0.042799,0.001135,0.061035,-1.632220,-0.484462,0.697204,0.758195,-0.660978,0.165832,-0.013910,0.893539,0.092407,0.001798,-0.007030,0.010401,-0.006431,0.001739,-0.000171,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.468989,-1.220584,1.158757,0.547998,-0.376407,-0.032327,0.037102,-0.004371,0.685732,-1.196006,-0.962848,0.327532,0.786643,-0.487212,0.102388,-0.007537,1.192218,0.097096,-0.003057,-0.020965,0.031476,-0.017074,0.004057,-0.000356,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.072111,-1.401626,0.292270,0.679347,-0.160667,-0.076283,0.027264,-0.002152,0.773888,-0.185348,-1.206649,-0.049600,0.752247,-0.359951,0.068059,-0.004912,1.489042,0.096065,0.003128,-0.017828,0.017317,-0.006834,0.001156,-0.000065,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.114503,-1.014338,-0.298928,0.802147,-0.367833,0.110458,-0.026735,0.002982,0.509663,0.520910,-1.009935,-0.714693,1.520810,-0.805226,0.180409,-0.014965,1.785640,0.092732,0.016234,0.022899,-0.069699,0.040833,-0.009583,0.000814,0.000000,-0.000000,-0.000000,-0.000000,-0.000000,-0.000000,0.000000,-0.000000],
[2.420000,0.150089,-0.000000,-0.000000,-0.000165,0.000120,-0.000004,-0.000015,0.000003,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.902785,-0.000000,0.000000,-3.114992,4.799468,-2.916511,0.809373,-0.085512,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,0.150003,-0.000021,-0.000084,0.000035,0.000504,-0.000672,0.000293,-0.000042,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.299693,0.044724,0.032371,-0.691790,1.276813,-0.913095,0.281619,-0.031538,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,0.149925,0.000456,0.000284,-0.001715,0.001252,-0.000128,-0.000117,0.000026,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.033913,-0.250777,0.379170,0.160131,-0.739409,0.594485,-0.195463,0.023369,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,0.150071,-0.000375,-0.000503,0.001382,-0.000295,-0.000562,0.000317,-0.000047,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.997968,-0.055855,-0.012687,0.466532,-0.488596,0.183330,-0.023843,0.000056,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,0.149895,0.000207,0.000710,-0.000952,-0.000430,0.000958,-0.000415,0.000057,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.097467,0.024994,0.020152,-0.217212,0.323095,-0.202872,0.058752,-0.006466,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],

[2.266667,0.252133,-0.000000,0.000000,-1.111132,1.319135,-0.660638,0.167924,-0.017860,0.029066,-0.000000,-0.000000,1.338452,-2.357820,1.552197,-0.458334,0.051330,1.099099,0.000000,-0.000000,0.022601,-0.042328,0.029078,-0.008651,0.000941,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.111026,0.457101,0.221664,-0.482523,0.286196,-0.193317,0.082528,-0.012400,-0.130783,-0.148037,0.198884,0.381090,-0.501114,0.249272,-0.065525,0.007496,1.100716,0.001805,-0.008242,-0.013053,0.046775,-0.041274,0.014863,-0.001925,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.186735,-0.303016,0.346551,-0.054336,0.450045,-0.479329,0.163947,-0.017838,0.097946,-0.223247,-0.154762,0.308160,-0.698130,0.889451,-0.440264,0.072391,1.099631,0.003070,0.004855,-0.025994,0.026920,-0.009793,0.000685,0.000173,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.225533,0.053284,0.531844,1.104560,-3.293839,2.449780,-0.755567,0.086067,-0.279882,-0.631040,0.637620,4.014939,-6.472658,3.999590,-1.152474,0.128812,1.099563,-0.003956,0.006034,0.034247,-0.080269,0.064015,-0.022002,0.002774,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.440711,-0.153154,0.771041,0.639626,-1.133857,0.554505,-0.132006,0.013680,0.069556,-0.934727,-0.286681,1.401847,-1.039900,0.486910,-0.143437,0.017526,1.100449,-0.004482,-0.007288,0.033406,-0.022053,-0.005257,0.007816,-0.001636,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.172418,-0.833621,-0.335887,0.741688,-0.305423,0.195248,-0.100555,0.016837,0.420954,0.340536,-0.880222,-0.226650,0.563059,-0.298206,0.096684,-0.014406,1.102257,0.008835,-0.033346,-0.127955,0.401311,-0.376056,0.146296,-0.020455,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.353105,0.503063,-0.629207,0.138821,-1.035204,1.189878,-0.468367,0.063110,-0.264877,0.759506,0.388407,-1.233796,2.008044,-1.872656,0.763162,-0.109877,1.106645,0.047503,-0.101225,-0.633891,1.719459,-1.542840,0.587449,-0.081093,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.375140,0.383358,0.817301,1.103756,-1.498012,0.199482,0.153506,-0.036140,-0.232613,-0.456223,-0.066537,-3.004339,7.092623,-5.163035,1.570375,-0.175196,1.129730,0.191443,-0.371163,-2.408502,4.263371,-2.741381,0.788516,-0.085601,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.351360,-1.553052,0.746548,0.134895,1.326680,-1.334986,0.438759,-0.049751,0.826931,-0.673033,-1.461650,-0.064652,1.213673,-0.561991,0.087750,-0.004012,0.747981,-0.024440,0.082956,-0.030358,-0.097681,0.109449,-0.042095,0.005609,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.890161,-0.204239,-1.690881,-0.197006,1.162877,-0.479090,0.070738,-0.003858,0.117837,1.759552,-0.231685,-1.203283,0.210886,0.159251,-0.031240,-0.002113,0.750644,-0.008274,-0.008826,0.084688,-0.124689,0.076238,-0.020969,0.002121,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.115865,1.763708,0.185459,-1.356671,-0.667090,1.439567,-0.587524,0.075068,-0.888376,-0.216095,1.608378,-0.337501,-0.909208,0.651039,-0.164936,0.014507,0.751192,-0.003078,-0.035683,-0.053054,0.078069,-0.115464,0.060907,-0.009535,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.955603,0.965281,-0.266288,-0.930470,0.549430,-0.120580,0.023800,-0.003764,-0.001003,0.007607,0.024661,-0.144590,0.219139,-0.147150,0.046059,-0.005485,0.424325,0.227774,0.698881,0.098942,-0.631825,0.293314,-0.047909,0.002337,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.298773,0.066440,0.995507,-0.078329,-0.358486,0.091928,0.006972,-0.002407,-0.000349,0.005083,0.005305,-0.057936,0.093128,-0.062974,0.019553,-0.002297,0.776040,-0.779068,0.019219,0.440381,0.247895,-0.378597,0.131217,-0.015383,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.894870,-0.976372,-0.146405,0.794440,-0.449282,0.323993,-0.159101,0.026379,-0.000293,0.001279,0.003958,-0.017372,0.021797,-0.012503,0.003410,-0.000359,1.195588,0.177652,-0.806935,-0.413251,1.087757,-0.726819,0.241054,-0.032280,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,1.238667,0.363803,-0.714997,0.681185,-2.320573,2.380573,-0.925006,0.124668,-0.000038,-0.000186,0.000611,0.000294,-0.001668,0.001463,-0.000512,0.000065,0.634525,0.785006,0.159001,-1.571479,2.992594,-2.724848,1.085352,-0.154515,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000
]]
drone4=[[3.216667,-0.755390,0.000000,-0.000000,2.062034,-2.154786,0.859777,-0.156370,0.011010,-0.152033,-0.000000,-0.000000,-2.368579,3.546031,-1.876222,0.427412,-0.035873,0.402872,0.000000,-0.000000,-0.038393,0.045891,-0.016550,0.002280,-0.000088,-0.000000,0.000000,0.000000,0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.715624,-0.349822,0.793359,0.465249,-0.438586,0.051856,0.013448,-0.002258,0.166701,-0.796148,-0.219423,-0.783797,1.709589,-0.935605,0.209368,-0.017208,0.550656,0.086830,-0.005293,0.027259,-0.026270,0.010856,-0.002070,0.000149,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.394080,-1.159354,0.578293,0.677328,0.148382,-0.397951,0.125973,-0.011914,0.686201,-0.593632,-1.268159,-0.707274,1.799931,-0.837910,0.155372,-0.010487,0.848060,0.094401,-0.003564,-0.005563,0.011545,-0.006802,0.001676,-0.000150,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.336106,-1.777615,0.012357,0.620632,0.365416,-0.399753,0.103333,-0.008621,1.002997,0.106307,-1.561390,-0.118770,0.691854,-0.230134,0.022541,-0.000121,1.145067,0.093924,0.001573,-0.007658,0.007862,-0.003498,0.000719,-0.000056,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.606567,-1.107867,-0.765060,0.440935,0.439807,-0.301537,0.061860,-0.004242,0.592341,0.929586,-1.026769,-0.477292,0.462277,-0.076880,-0.003403,0.001061,1.442974,0.092579,0.001617,0.000481,-0.003963,0.003123,-0.000918,0.000093,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.456053,-0.277204,-0.902333,0.182402,0.200403,-0.016507,-0.026292,0.004759,0.100273,1.095583,-0.311635,-0.772759,0.379111,0.030373,-0.040911,0.005507,1.740625,0.089274,0.000536,0.011266,-0.000056,-0.009609,0.004045,-0.000471,0.000000,-0.000000,-0.000000,-0.000000,-0.000000,-0.000000,0.000000,-0.000000],
[2.420000,-0.149927,-0.000000,0.000000,-0.002048,0.000104,0.001634,-0.000836,0.000119,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.900628,0.000000,0.000000,-0.655010,-0.019674,0.469818,-0.224485,0.031171,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.149876,0.001009,-0.002439,0.000443,0.000829,0.000047,-0.000275,0.000059,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.999158,-0.021945,-0.019817,0.456669,-0.880902,0.642251,-0.198200,0.021957,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.149520,-0.001522,-0.001523,0.004487,-0.001294,-0.001419,0.000870,-0.000132,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.258604,0.273271,-0.330586,-0.280301,0.762423,-0.529349,0.155494,-0.016796,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.150211,0.000622,0.001655,-0.003203,0.000352,0.001426,-0.000727,0.000103,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.292739,0.013802,0.122782,0.011588,-0.586172,0.571667,-0.200847,0.024463,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.149850,-0.000129,-0.001326,0.001479,0.000648,-0.001382,0.000588,-0.000080,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.102442,-0.010952,-0.059786,0.252260,-0.329587,0.196822,-0.055558,0.006023,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],

[2.266667,-0.249785,-0.000000,0.000000,1.014316,-1.103878,0.484741,-0.105524,0.009743,-0.024351,0.000000,0.000000,-1.512259,2.733266,-1.851453,0.562251,-0.064603,1.099044,-0.000000,-0.000000,0.024134,-0.045334,0.031252,-0.009336,0.001020,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.110935,-0.442663,-0.220788,0.334320,-0.008569,-0.013266,-0.013103,0.003636,0.129818,0.166676,-0.188265,-0.584933,0.857543,-0.503863,0.147892,-0.017479,1.100755,0.001814,-0.008757,-0.013254,0.049067,-0.043738,0.015855,-0.002063,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.187311,0.307213,-0.376043,-0.117515,0.257018,-0.350125,0.222142,-0.043766,-0.098554,0.241391,0.187481,-0.399826,0.458641,-0.362011,0.130493,-0.016040,1.099623,0.003503,0.004997,-0.029236,0.031402,-0.012130,0.001175,0.000144,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.091864,0.752405,-1.059734,-4.470592,8.275322,-5.441840,1.618643,-0.183779,-0.030952,0.133082,0.963931,0.733873,-2.874015,2.082285,-0.618731,0.068380,1.099426,-0.004459,0.007309,0.038631,-0.091506,0.072992,-0.025038,0.003148,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.158249,0.908748,-0.107425,-1.819232,1.929940,-1.017287,0.291082,-0.034110,-0.398533,-0.441835,0.784915,0.724909,-0.964961,0.373870,-0.074094,0.007469,1.100574,-0.004892,-0.009056,0.035760,-0.018470,-0.011607,0.010868,-0.002111,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.451558,0.132846,0.941988,-0.303844,-0.123196,0.014698,0.012710,-0.001463,0.219941,-0.824329,-0.445277,0.827907,-0.448222,0.376270,-0.186930,0.030369,1.102432,0.010644,-0.035882,-0.146817,0.446435,-0.413512,0.159713,-0.022215,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.052403,-0.904633,-0.015441,0.943329,-1.134247,0.968625,-0.408803,0.061507,0.370877,0.423590,-0.670712,0.615112,-2.246245,2.332073,-0.915542,0.125492,1.106739,0.050981,-0.102304,-0.669351,1.789298,-1.595470,0.605083,-0.083291,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.388730,0.204720,-0.346744,2.035497,-5.381827,4.369736,-1.437806,0.170098,-0.300296,0.483632,1.021457,2.765207,-5.749138,3.427728,-0.863813,0.080858,1.129589,0.194261,-0.369215,-2.438378,4.313034,-2.775464,0.799183,-0.086860,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.540883,1.357153,0.898657,0.015830,-1.792761,1.224932,-0.322237,0.032040,-0.716583,-1.012569,1.347759,0.259594,0.408799,-0.802134,0.317553,-0.039318,0.747780,-0.023563,0.085873,-0.039289,-0.092339,0.110731,-0.043908,0.005982,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.548060,-1.429840,1.060163,1.244087,-1.033773,0.341383,-0.099701,0.016464,0.713166,-1.053474,-1.365676,0.390822,1.052779,-0.644023,0.137292,-0.011025,0.750162,-0.009801,-0.000928,0.113057,-0.222732,0.173379,-0.060522,0.007881,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.823287,-0.709122,-1.381517,1.399990,2.037609,-2.785115,1.096798,-0.143147,0.346999,1.640741,-0.746526,-1.361113,0.206156,0.893755,-0.482133,0.071875,0.748738,-0.009045,0.031377,0.186221,0.302480,-0.433540,0.156777,-0.017839,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.311364,-0.216390,1.023533,-0.012181,-0.148514,-0.137009,0.090822,-0.013384,0.004760,-0.007955,-0.154854,0.536754,-0.686364,0.418019,-0.122363,0.013860,0.881097,-0.779637,-0.204843,0.688399,-0.160230,-0.013460,-0.005414,0.002765,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,1.022730,-0.866824,-0.449120,0.390098,0.601756,-0.540187,0.160095,-0.017530,0.001069,-0.007526,-0.017223,0.095776,-0.128131,0.075366,-0.020628,0.002148,1.159220,0.343348,-0.699910,-0.162238,0.119459,0.128285,-0.071039,0.009401,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,1.180145,0.676154,-0.791545,-0.815669,1.329361,-0.890815,0.320786,-0.045676,0.000633,0.002601,-0.008052,-0.014061,0.044305,-0.037170,0.012946,-0.001636,0.536617,0.587955,0.503011,-0.348711,-0.215447,0.122814,-0.004110,-0.002985,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.401965,0.665669,0.524563,-2.015607,4.364955,-4.118906,1.631357,-0.228925,-0.000299,0.001564,0.003439,-0.018565,0.025371,-0.015649,0.004576,-0.000516,0.578917,-0.642344,0.414799,0.292750,0.152697,-0.317376,0.108193,-0.010339,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000
]]
drone5=[[3.216667,-0.636984,-0.000000,0.000000,-0.997334,1.979423,-1.200723,0.296103,-0.026101,0.371697,-0.000000,0.000000,-3.117948,3.835446,-1.768310,0.363772,-0.028262,0.399071,0.000000,-0.000000,0.031274,-0.057407,0.036010,-0.009115,0.000816,-0.000000,0.000000,0.000000,0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.411810,-0.747019,0.380720,-0.466267,1.135697,-0.710248,0.170993,-0.014530,0.517850,-0.244290,-0.727335,-0.488290,0.916883,-0.364387,0.057585,-0.003279,0.504545,0.095883,-0.015098,0.008010,0.007679,-0.008164,0.002511,-0.000257,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.242183,-1.125630,-0.488197,0.032978,1.144978,-0.701670,0.151701,-0.011372,0.734015,0.485816,-1.036023,-0.350174,0.024654,0.304411,-0.119259,0.012719,0.801433,0.098655,-0.001137,-0.027723,0.036507,-0.018501,0.004187,-0.000354,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,1.133836,-1.143915,-1.250339,0.531026,0.514881,-0.300726,0.051016,-0.002622,0.605730,1.389402,-1.104209,-0.262378,-0.183102,0.339662,-0.107447,0.010297,1.098418,0.094281,0.004166,-0.011592,0.010086,-0.004210,0.000870,-0.000072,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.920019,-0.057806,-1.289383,0.172604,0.205047,0.017321,-0.034944,0.005053,-0.048334,1.415061,-0.038724,-0.413785,-0.486841,0.459723,-0.122565,0.010891,1.397400,0.092538,-0.003664,-0.006704,0.019704,-0.014210,0.004081,-0.000414,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.350918,0.553739,-0.702881,0.276410,-0.872277,0.744490,-0.224416,0.022787,-0.437762,0.793817,0.685384,0.111347,-1.309290,0.865840,-0.215210,0.018937,1.696450,0.101697,-0.013068,-0.057309,0.105760,-0.063324,0.015719,-0.001406,0.000000,-0.000000,-0.000000,-0.000000,-0.000000,-0.000000,0.000000,-0.000000],
[2.420000,-0.449845,0.000000,0.000000,0.015921,0.000501,-0.013312,0.006457,-0.000890,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.900370,-0.000000,0.000000,-0.333909,-0.070087,0.195370,-0.069222,0.007538,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.447880,-0.011331,0.016171,0.002389,-0.021829,0.017371,-0.005356,0.000584,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.739989,-0.210542,0.328063,-0.143322,-0.035674,0.012813,0.015301,-0.004238,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.445667,0.003784,-0.009711,-0.009146,0.022301,-0.014090,0.003797,-0.000381,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.973616,0.694763,0.334209,-0.489018,-0.178732,0.341921,-0.129950,0.015988,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.450045,-0.000416,0.000341,0.000776,-0.000212,0.000237,-0.000262,0.000060,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.600704,-0.012049,-0.024873,0.163023,-0.078642,-0.152135,0.100306,-0.016002,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.449349,-0.003270,0.001121,0.009833,-0.015493,0.009623,-0.002739,0.000297,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.780979,-0.362831,0.545686,-0.285452,-0.054959,0.113952,-0.041574,0.004989,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],

[2.266667,-0.450326,-0.000000,-0.000000,1.859330,-2.063762,0.936737,-0.213148,0.020602,-0.081510,-0.000000,0.000000,-4.241767,7.572296,-5.060958,1.517436,-0.172403,0.699986,-0.000000,0.000000,0.016554,-0.045763,0.043723,-0.017452,0.002489,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.199590,-0.803228,-0.396308,0.664668,-0.138303,0.071154,-0.057026,0.010996,0.391683,0.475472,-0.587262,-1.458257,2.047248,-1.122475,0.312269,-0.035777,0.699104,-0.008166,0.010942,0.082842,-0.190749,0.153168,-0.053159,0.006763,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.336131,0.560310,-0.617084,-0.056719,-0.624451,0.835104,-0.334169,0.044207,-0.298061,0.692591,0.577137,-0.889347,0.934687,-0.970842,0.454949,-0.072097,0.700310,-0.015200,-0.019481,0.089540,0.093798,-0.289993,0.178310,-0.032341,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.472365,0.023090,0.231905,0.197861,0.472902,-0.698171,0.275460,-0.035361,0.002078,-0.114166,-0.168837,-2.940577,5.317775,-3.452845,1.003209,-0.110981,0.973947,0.680891,-0.325166,-2.308431,4.077689,-2.769749,0.854317,-0.099706,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.273067,-0.675289,-0.513264,0.103324,0.845861,-0.628327,0.177929,-0.019183,0.349590,0.580456,-0.565548,-0.999809,1.135712,-0.492033,0.117566,-0.012878,1.092770,0.054620,0.113799,-0.776341,1.195926,-0.809087,0.255103,-0.030631,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.276028,0.728339,-0.560125,-0.790555,0.973905,-0.575277,0.201410,-0.028796,-0.358664,0.550351,0.715155,-0.497370,-0.033434,-0.021996,0.042253,-0.008055,1.100135,0.029110,-0.000968,-0.385063,0.800279,-0.643345,0.229279,-0.030245,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.406431,0.411982,0.658769,-1.210104,2.372623,-2.296173,0.920203,-0.129716,-0.173363,-0.812218,0.350468,0.469113,-0.059095,-0.127389,0.034277,-0.000896,1.105915,0.054439,-0.090611,-0.724201,1.864745,-1.643348,0.619575,-0.084985,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.014027,-0.584309,-0.464323,-3.186585,6.952453,-4.617546,1.299236,-0.135714,0.440823,-0.103726,-0.669697,0.544511,-2.262735,2.425738,-0.925339,0.119940,1.129681,0.195705,-0.369963,-2.458156,4.356184,-2.810606,0.811743,-0.088515,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.892113,0.197106,-1.643272,-0.166507,0.490833,0.093471,-0.111421,0.017120,-0.109306,1.678189,0.085767,-0.054589,-1.814160,1.480653,-0.438369,0.046905,0.748044,-0.020545,0.082096,-0.076932,-0.002701,0.035567,-0.016715,0.002385,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.342269,1.634779,0.633789,-1.048668,-0.146047,0.162403,0.016860,-0.010619,-0.829958,-0.703850,1.584248,0.803053,-1.211788,0.436055,-0.088003,0.010757,0.750439,-0.001961,-0.003686,0.036429,-0.075422,0.065957,-0.025896,0.003752,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.708851,-1.052603,1.246672,0.087228,-1.614584,1.348289,-0.420345,0.045487,0.541157,-1.420331,-0.857353,1.661363,0.760303,-1.583711,0.659472,-0.087891,0.748089,-0.000046,0.060685,0.176071,-0.200481,0.150423,-0.061694,0.008862,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.646278,0.965259,-0.197845,-1.158194,0.851892,-0.315065,0.083975,-0.010941,-0.003719,0.002209,0.130187,-0.414242,0.510080,-0.303284,0.087249,-0.009752,1.175836,-0.230848,-0.696623,-0.094548,0.630658,-0.298171,0.051179,-0.002915,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-1.301265,0.076592,0.999151,-0.170948,-0.212158,-0.000652,0.033338,-0.005216,-0.000730,0.004134,0.011631,-0.059600,0.080969,-0.049414,0.014203,-0.001567,0.824175,0.783289,-0.020817,-0.468991,-0.202433,0.352094,-0.124652,0.014817,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.706350,-0.980985,-0.132537,0.818152,-0.519833,0.380146,-0.177655,0.028604,-0.000231,-0.000144,0.003240,-0.003470,-0.001318,0.003249,-0.001483,0.000214,0.403687,-0.181736,0.814899,0.441933,-1.156259,0.779441,-0.258357,0.034368,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.360378,0.364220,-0.725642,0.684865,-2.300011,2.357462,-0.915983,0.123451,0.000047,-0.000424,-0.000488,0.004134,-0.006103,0.003896,-0.001161,0.000133,0.966115,-0.785540,-0.166336,1.582267,-2.993401,2.719603,-1.082562,0.154089,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000
]]
drone6=[[3.216667,-0.119967,-0.000000,0.000000,-3.237654,4.376496,-2.169403,0.471761,-0.038208,0.513783,-0.000000,-0.000000,-0.509935,-0.124596,0.361912,-0.128934,0.013606,0.397820,-0.000000,-0.000000,0.020126,-0.023808,0.008742,-0.000891,-0.000025,-0.000000,0.000000,0.000000,0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.023661,-0.625483,-0.298381,-0.533111,1.205472,-0.611340,0.124530,-0.009259,0.493038,0.409874,-0.857276,0.491962,-0.736094,0.517053,-0.138857,0.012778,0.454662,0.102906,0.016969,-0.066953,0.065310,-0.028351,0.005778,-0.000451,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.661501,-0.345374,-1.056552,-0.079398,0.570048,-0.147369,-0.005366,0.003099,0.284482,1.119100,-0.295917,-0.028886,-0.896826,0.657387,-0.159839,0.013063,0.754195,0.091998,0.004751,-0.004932,0.002541,-0.000935,0.000228,-0.000024,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,1.352651,0.339358,-1.688278,0.046720,0.306988,0.015497,-0.038983,0.005356,-0.280473,1.842877,0.327428,-0.999648,-0.082539,0.251562,-0.065174,0.005034,1.053195,0.094119,-0.002192,-0.006464,0.011087,-0.006196,0.001484,-0.000131,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,0.634674,1.075173,-0.890938,-0.280365,-0.145992,0.313693,-0.103816,0.010369,-0.698722,0.961232,1.027213,-0.552608,-0.335427,0.220454,-0.038056,0.001922,1.350409,0.093301,0.000984,-0.006099,0.007664,-0.004034,0.000955,-0.000084,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000,0.000000,-0.000000],
[3.216667,-0.114034,1.013621,0.012424,0.045103,-1.096232,0.818776,-0.218188,0.020117,-0.669405,0.040387,1.030434,-0.188033,-0.086761,-0.086876,0.056924,-0.007789,1.648238,0.094592,0.002798,-0.003242,-0.010099,0.012701,-0.004752,0.000561,0.000000,-0.000000,-0.000000,-0.000000,-0.000000,-0.000000,0.000000,-0.000000],
[2.420000,-0.750057,0.000000,0.000000,0.067088,0.008444,-0.047228,0.019018,-0.002229,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.900373,-0.000000,0.000000,-0.391305,-0.081828,0.229018,-0.081677,0.008963,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.692888,-0.104149,-0.010069,0.098349,-0.019916,-0.041938,0.023765,-0.003581,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.507611,-0.313219,0.343965,-0.163362,0.015297,0.014291,-0.005239,0.000760,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.741174,0.054218,0.045075,-0.112897,0.009054,0.042568,-0.018957,0.002385,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.476929,0.259607,0.351156,0.249578,-0.017043,-0.233199,0.111004,-0.014715,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.751015,0.014043,-0.019980,-0.043293,0.053855,0.028006,-0.027026,0.004628,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.902508,-0.021981,-0.026246,0.227945,-0.166502,-0.117905,0.094012,-0.015450,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.420000,-0.454806,0.060805,-0.309662,0.013418,0.034602,0.061159,-0.041515,0.006705,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.802582,-0.707948,0.503645,-0.187820,0.022578,0.016950,-0.008824,0.001265,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],

[2.266667,-0.750396,-0.000000,-0.000000,3.089237,-3.415481,1.539352,-0.346734,0.033135,-0.137318,-0.000000,0.000000,-7.019267,12.513846,-8.351352,2.500453,-0.283729,0.397621,0.000000,0.000000,0.093851,-0.206803,0.167885,-0.059286,0.007689,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.333244,-1.336241,-0.669947,1.065001,-0.097158,-0.007966,-0.045157,0.011266,0.653183,0.788641,-0.982182,-2.380918,3.317488,-1.794889,0.492617,-0.055797,0.399992,-0.012353,0.001591,0.140050,-0.281042,0.217780,-0.074918,0.009554,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.562811,0.948965,-1.074873,-0.334155,-0.276040,0.631411,-0.245463,0.029082,-0.498154,1.155648,1.012595,-1.333341,0.681693,-0.487061,0.204067,-0.028616,0.399556,-0.019580,-0.006805,0.158736,-0.132659,-0.055177,0.077274,-0.017040,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.557597,0.891567,1.024718,-0.699535,0.122258,-0.283214,0.171397,-0.027319,-0.472687,-1.242086,1.083243,0.914609,-0.917292,0.348433,-0.096393,0.013681,0.607507,0.498732,-0.255890,-1.623569,2.894102,-1.968749,0.607177,-0.070807,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.289916,-1.334576,0.592968,0.538448,0.389956,-0.612902,0.206120,-0.022236,0.695504,-0.593081,-1.374129,0.688124,-0.042818,0.212418,-0.133964,0.020769,0.694329,0.039235,0.090416,-0.532358,0.754831,-0.473540,0.139005,-0.015597,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.742950,-0.188124,-1.425975,0.049325,0.607497,-0.143163,-0.024135,0.006968,0.100348,1.449339,-0.224727,-0.800234,-0.112117,0.313978,-0.080069,0.004492,0.697553,0.001706,0.034865,-0.051528,-0.005170,0.040547,-0.021575,0.003432,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.096309,1.462387,0.163833,-0.981347,0.112848,0.038801,0.037625,-0.012097,-0.739997,-0.166848,1.382287,-0.184686,0.357560,-0.754897,0.350463,-0.049887,0.698983,-0.011140,0.016328,0.130218,-0.323487,0.278303,-0.103018,0.013926,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.683892,-0.520104,1.185718,-0.377788,1.430052,-1.513004,0.544012,-0.065987,0.298292,-1.270331,-0.679579,-0.190336,1.893682,-1.188034,0.268061,-0.020345,0.696142,-0.030200,0.047181,0.367407,-0.626268,0.392010,-0.109636,0.011540,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.545640,-1.390921,-1.008022,0.595762,0.896876,-0.641643,0.144821,-0.011468,0.715099,1.045019,-1.375824,-0.421013,-0.072238,0.548586,-0.233000,0.028814,0.750862,0.008948,-0.018953,-0.044154,0.123364,-0.102026,0.035694,-0.004563,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,0.550739,1.417434,-1.099773,-1.103245,0.915752,-0.321045,0.111234,-0.019952,-0.713208,1.066879,1.368852,-0.538315,-0.784568,0.449839,-0.074026,0.003311,0.749753,0.005787,0.002334,-0.069305,0.132215,-0.101773,0.035338,-0.004588,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.818655,0.703554,1.213785,-1.820668,-0.448965,1.229701,-0.517955,0.069716,-0.347571,-1.631865,0.759391,1.277813,-0.103905,-0.947280,0.495001,-0.073037,0.750779,0.005693,-0.017372,-0.107149,-0.286429,0.345109,-0.112519,0.011267,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-1.279741,-0.228908,0.711938,1.059643,-1.523834,0.704854,-0.156877,0.014808,-0.004714,0.006279,0.155097,-0.519347,0.651835,-0.391579,0.113378,-0.012728,0.718317,0.784275,0.219620,-0.770521,0.278489,-0.062040,0.027915,-0.005322,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.575224,-0.883607,-0.481793,0.599954,0.303321,-0.354650,0.106357,-0.011592,-0.000962,0.005354,0.015005,-0.080053,0.113125,-0.071939,0.021554,-0.002476,0.440305,-0.342663,0.706421,0.152116,-0.121419,-0.118939,0.066187,-0.008640,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-0.418741,0.677976,-0.805845,-0.808827,1.345881,-0.909351,0.327592,-0.046529,-0.000196,0.001435,0.003267,-0.017920,0.023378,-0.013279,0.003473,-0.000341,1.063302,-0.591239,-0.502690,0.373730,0.175960,-0.099109,-0.002084,0.003567,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000],
[2.266667,-1.198624,0.665105,0.530899,-2.013918,4.345418,-4.099816,1.624246,-0.227988,-0.000158,-0.000789,0.001913,0.005325,-0.014197,0.011477,-0.003934,0.000494,1.021665,0.644930,-0.421500,-0.312292,-0.100159,0.274560,-0.093427,0.008477,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000
]]





seq_args_ = {
    URI1: [1,drone1],
    URI2: [2,drone2],
    URI3: [3,drone3],
    URI4: [4,drone4],
    URI5: [5,drone5],
    #URI6: [6,drone6],
    #URI7: [sequence7],
    #URI8: [sequence8],
    #URI9: [sequence9],
    #URI10: [sequence10],
}

seq_argss_ = {
    URI1: [1,59.35],
    URI2: [2,59.35],
    URI3: [3,59.35],
    URI4: [4,59.35],
    URI5: [5,59.35],
    #URI6: [6,11.1],
    #URI7: [sequence7],
    #URI8: [sequence8],
    #URI9: [sequence9],
    #URI10: [sequence10],
}

# List of URIs, comment the one you do not want to fly
uris = {
    URI1,
    URI2,
    URI3,
    URI4,
    URI5,
   # URI6,
   # URI7,
   # URI8,
   # URI9,
   # URI10
}

#######
def activate_mellinger_controller(scf):
    scf.cf.param.set_value('stabilizer.controller', '2')


def upload_trajectory(scf, trajectory_id, trajectory):
    """Upload one trajectory to one Crazyflie"""
    try:
        mems = scf.cf.mem.get_mems(MemoryElement.TYPE_TRAJ)
        if not mems:
            print(f"[{scf.cf.link_uri}] No trajectory memory found!")
            return
        trajectory_mem = mems[0]
        trajectory_mem.trajectory = []

        total_duration = 0
        for row in trajectory:
            duration = row[0]
            x = Poly4D.Poly(row[1:9])
            y = Poly4D.Poly(row[9:17])
            z = Poly4D.Poly(row[17:25])
            yaw = Poly4D.Poly(row[25:33])
            trajectory_mem.trajectory.append(Poly4D(duration, x, y, z, yaw))
            total_duration += duration

        if not trajectory_mem.write_data_sync():
            print(f"[{scf.cf.link_uri}] Upload failed.")
            return

        scf.cf.high_level_commander.define_trajectory(trajectory_id, 0, len(trajectory))
        print(f"[{scf.cf.link_uri}] Trajectory uploaded ({len(trajectory)} segments, {total_duration:.1f}s)")
        print(total_duration)
        return total_duration

    except Exception as e:
        print(f"[{scf.cf.link_uri}] ERROR uploading trajectory: {e}")
        

def landd(scf):
    commander = scf.cf.high_level_commander
    commander.land(0.0,4.0)
    time.sleep(4.0)
    commander.stop()
def run_trajectory(scf, trajectory_id, duration):
    try:
        print('run_trajectory function')
        """Execute a defined trajectory"""
        commander = scf.cf.high_level_commander

        commander.takeoff(0.5, 2.0)
        time.sleep(3.0)
        commander.start_trajectory(trajectory_id, 1.0, False)
        '''print(f"[{scf.cf.link_uri}] Running trajectory {trajectory_id} for {duration:.1f}s")'''
        time.sleep(duration)
        commander.land(0.0, 2.0)
        time.sleep(3.0)
        commander.stop()
    except Exception as e:
        print(f"[{scf.cf.link_uri}] ERROR uploading trajectory: {e}")
        commander.land(0.0, 2.0)


def wait_for_param_download(scf):
    while not scf.cf.param.is_updated:
        time.sleep(0.5)
    print(f"[{scf.cf.link_uri}] Parameters ready")


def light_check(scf):
    scf.cf.param.set_value('led.bitmask', 255)
    time.sleep(1)
    scf.cf.param.set_value('led.bitmask', 0)


# --- Swarm execution ---
if __name__ == '__main__':
    cflib.crtp.init_drivers()

    factory = CachedCfFactory(rw_cache='./cache')

    with Swarm(uris, factory=factory) as swarm:
        try:
            swarm.parallel_safe(wait_for_param_download)
            swarm.parallel_safe(light_check)
            swarm.reset_estimators()
            swarm.parallel_safe(activate_mellinger_controller)

            # Upload trajectories to each Crazyflie
            durations = swarm.parallel(upload_trajectory, args_dict=seq_args_)
           # durations=[30.3,30.3,30.3,30.3]
           # print("Durations:", durations)
              
            # Wait before flight
            time.sleep(3.0)

            # Run trajectories
            '''run_args = {uri: [seq_args_[uri][0], durations[uri]] for uri in seq_args_}'''
            swarm.parallel_safe(run_trajectory, args_dict=seq_argss_)

        except KeyboardInterrupt:
            print("Emergency stop triggered by user.")
            swarm.parallel_safe(landd)
        except Exception as e:
            print(f"Error: {e}")
            swarm.parallel_safe(landd)

""" def activate_mellinger_controller(cf):
    cf.param.set_value('stabilizer.controller', '2')


def upload_trajectory(cf, trajectory_id, trajectory):
    try:
        print('hello')
        trajectory_mem = cf.cf.mem.get_mems(MemoryElement.TYPE_TRAJ)[0]
        trajectory_mem.trajectory = []

        total_duration = 0
        for row in trajectory:
            duration = row[0]
            x = Poly4D.Poly(row[1:9])
            y = Poly4D.Poly(row[9:17])
            z = Poly4D.Poly(row[17:25])
            yaw = Poly4D.Poly(row[25:33])
            trajectory_mem.trajectory.append(Poly4D(duration, x, y, z, yaw))
            total_duration += duration

        upload_result = trajectory_mem.write_data_sync()
        print('Uploaded')
        if not upload_result:
            print('Upload failed, aborting!')
            sys.exit(1)
        cf.cf.high_level_commander.define_trajectory(trajectory_id, 0, len(trajectory_mem.trajectory))
        print(total_duration)
        return total_duration
    except Exception as e:
        print(e)

#####
def activate_led_bit_mask(scf):
    scf.cf.param.set_value('led.bitmask', 255)

def deactivate_led_bit_mask(scf):
    scf.cf.param.set_value('led.bitmask', 0)

def light_check(scf):
    activate_led_bit_mask(scf)
    time.sleep(2)
    deactivate_led_bit_mask(scf)

def wait_for_param_download(scf):
    while not scf.cf.param.is_updated:
        time.sleep(1.0)
    print('Parameters downloaded for', scf.cf.link_uri)


def arm(scf):
    scf.cf.platform.send_arming_request(True)
    time.sleep(1.0)


def take_off(cf, position):
    take_off_time = 1.0
    sleep_time = 0.1
    steps = int(take_off_time / sleep_time)
    vz = position[2] / take_off_time

    print(vz)

    for i in range(steps):
        cf.commander.send_velocity_world_setpoint(0, 0, vz, 0)
        time.sleep(sleep_time)


def land(cf, position):
    landing_time = 1.0
    sleep_time = 0.1
    steps = int(landing_time / sleep_time)
    vz = -position[2] / landing_time

    print(vz)

    for _ in range(steps):
        cf.commander.send_velocity_world_setpoint(0, 0, vz, 0)
        time.sleep(sleep_time)

    cf.commander.send_stop_setpoint()
    # Hand control over to the high level commander to avoid timeout and locking of the Crazyflie
    cf.commander.send_notify_setpoint_stop()

    # Make sure that the last packet leaves before the link is closed
    # since the message queue is not flushed before closing
    time.sleep(0.1)


def run_sequence(scf, sequence):
    try:
        cf=scf.cf

        take_off(scf, sequence[0])
        for position in sequence:
            print('Setting position {}'.format(position))
            end_time = time.time() + position[3]
            while time.time() < end_time:
                cf.commander.send_position_setpoint(position[0],
                                                    position[1],
                                                    position[2], 0)
                time.sleep(0.1)
        land(scf, sequence[-1])
    except Exception as e:
        print(e)

def run_sequencee(scf, trajectory_id,figure8):
    try:
        print('run function')
        commander = scf.cf.high_level_commander
        relative_yaw=False
        print('second print')
        duration=21
        #duration = upload_trajectory(cf, trajectory_id, figure8)
        print(duration)
        print('The sequence is {:.1f} seconds long'.format(duration))
        # Arm the Crazyflie
        #cf.platform.send_arming_request(True)
        print('third print')
        time.sleep(1.0)

        takeoff_yaw = 3.14 / 2 if relative_yaw else 0.0
        commander.takeoff(0.5, 2.0, yaw=takeoff_yaw)
        time.sleep(3.0)
        commander.start_trajectory(trajectory_id, 1.0, True)
        time.sleep(duration)
        commander.land(0.0, 2.0)
        time.sleep(2)
        commander.stop()
    except Exception as e:
        print(e)


if __name__ == '__main__':
    # logging.basicConfig(level=logging.DEBUG)
    cflib.crtp.init_drivers()

    factory = CachedCfFactory(rw_cache='./cache')
    with Swarm(uris, factory=factory) as swarm:
        try:
            # If the copters are started in their correct positions this is
            # probably not needed. The Kalman filter will have time to converge
            # any way since it takes a while to start them all up and connect. We
            # keep the code here to illustrate how to do it.
            

            # The current values of all parameters are downloaded as a part of the
            # connections sequence. Since we have 10 copters this is clogging up
            # communication and we have to wait for it to finish before we start
            # flying.
            swarm.parallel_safe(light_check)

            durat=swarm.parallel_safe(upload_trajectory,args_dict=seq_args_)
            
            print(durat)
            #swarm.parallel(wait_for_param_download)
            time.sleep(5)

            swarm.reset_estimators()
        
        

            swarm.parallel_safe(activate_mellinger_controller)
            
            
        
            
            
            swarm.parallel_safe(arm)
            #swarm.parallel(run_sequence,args_dict=seq_args_)
            swarm.parallel_safe(run_sequencee,args_dict=seq_args_)

        # swarm.parallel(run_sequence, args_dict=seq_args)
        except Exception as e:
                print(f"Error occurred: {e}")
                swarm.parallel_safe(emergency_stop())


# --- Helper functions ---
 """
